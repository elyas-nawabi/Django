"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var React = require("react");
var context_1 = require("../context");
var useCollection_1 = require("./useCollection");
/** @hidden */
exports.useSchedulerSlot = function (props, ref) {
    var _ref = props._ref;
    var slot = React.useRef(null);
    var element = React.useRef(null);
    var _a = context_1.useSchedulerViewSlotsContext(), dispatchSlots = _a[1];
    React.useImperativeHandle(slot, function () { return ({ element: element.current, props: props }); });
    React.useImperativeHandle(ref, function () { return slot.current; });
    React.useImperativeHandle(_ref, function () { return slot.current; });
    React.useEffect(function () {
        dispatchSlots({
            type: useCollection_1.COLLECTION_ACTION.add,
            item: slot
        });
        return function () {
            dispatchSlots({
                type: useCollection_1.COLLECTION_ACTION.remove,
                item: slot
            });
        };
    });
    return {
        slot: slot,
        element: element
    };
};
//# sourceMappingURL=useSchedulerSlot.js.map